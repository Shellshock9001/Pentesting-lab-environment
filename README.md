# Military-Grade Lab Setup on Ubuntu

This script sets up a comprehensive military-grade lab environment on an Ubuntu system. It installs a suite of advanced security, reverse engineering, forensic, exploit development, container security, and web security tools. It also sets up private networks for each user and includes logging and monitoring tools.

## Tools Installed

- **Security Tools**
  - Metasploit Framework
  - Nmap
  - Wireshark
  - Tcpdump
  - GDB
  - Radare2
  - John the Ripper
  - Binwalk
  - Hydra
  - Burp Suite
  - OWASP ZAP

- **Networking Tools**
  - Netcat
  - Aircrack-ng
  - Yersinia
  - Nikto
  - Responder
  - CrackMapExec
  - Net-tools
  - curl

- **Reverse Engineering Tools**
  - Ghidra
  - Apktool
  - JADX
  - IDA Free

- **Forensic Tools**
  - Autopsy
  - Sleuth Kit
  - Volatility
  - Xplico

- **Exploit Development Tools**
  - Pwntools

- **Container Security Tools**
  - Docker

- **Additional Pentest Frameworks**
  - BloodHound
  - Empire
  - Cobalt Strike
  - Impacket
  - Recon-ng
  - Maltego
  - Nessus
  - Hashcat
  - SecLists
  - FuzzDB

- **Military Databases**
  - NVD
  - CWE

- **Additional Tools**
  - AutoRecon

## How to Use

### Running the Script

1. Save the script as `ubuntu_lab.sh`.
2. Make the script executable:

    ```bash
    chmod +x ubuntu_lab.sh
    ```

3. Run the script to initialize the lab environment:

    ```bash
    sudo ./ubuntu_lab.sh
    ```

### Adding New Users

To add a new user, follow these steps:

1. **Create the user**:

    ```bash
    sudo useradd -m -s /bin/bash new_user
    ```

2. **Set the password for the new user**:

    ```bash
    echo "new_user:password" | sudo chpasswd
    ```

3. **Configure sudoers if necessary**:

    ```bash
    echo "new_user ALL=(ALL) NOPASSWD:ALL" | sudo tee -a /etc/sudoers
    ```

### Setting Up Private Networks for New Users

1. **Create a network namespace**:

    ```bash
    sudo ip netns add new_user_ns
    ```

2. **Create a veth pair**:

    ```bash
    sudo ip link add veth_new_user type veth peer name veth_new_user_br
    ```

3. **Assign the veth pair to the namespace**:

    ```bash
    sudo ip link set veth_new_user netns new_user_ns
    ```

4. **Set an IP address in the namespace**:

    ```bash
    sudo ip netns exec new_user_ns ip addr add 192.168.X.X/24 dev veth_new_user
    ```

    Replace `192.168.X.X` with the desired IP address.

5. **Bring up the interface in the namespace**:

    ```bash
    sudo ip netns exec new_user_ns ip link set veth_new_user up
    ```

6. **Bring up the bridge interface**:

    ```bash
    sudo ip link set veth_new_user_br up
    ```

7. **Create a bridge**:

    ```bash
    sudo brctl addbr br_new_user
    ```

8. **Add the veth pair to the bridge**:

    ```bash
    sudo brctl addif br_new_user veth_new_user_br
    ```

9. **Bring up the bridge**:

    ```bash
    sudo ip link set br_new_user up
    ```

### Checking Network Configuration

To check if the private network is added and configured correctly:

1. **List network namespaces**:

    ```bash
    sudo ip netns list
    ```

2. **Check the IP address in a namespace**:

    ```bash
    sudo ip netns exec new_user_ns ip a
    ```

3. **Check bridge configuration**:

    ```bash
    sudo brctl show
    ```

4. **Check network interfaces**:

    ```bash
    ip a
    ```

### Logging and Monitoring

The script installs `rsyslog` and `Nagios NRPE server` for logging and monitoring.

- **Enable and start rsyslog**:

    ```bash
    sudo systemctl enable rsyslog
    sudo systemctl start rsyslog
    ```

- **Enable and start Nagios NRPE server**:

    ```bash
    sudo systemctl enable nagios-nrpe-server
    sudo systemctl start nagios-nrpe-server
    ```

- **Check the status of rsyslog**:

    ```bash
    sudo systemctl status rsyslog
    ```

- **Check the status of Nagios NRPE server**:

    ```bash
    sudo systemctl status nagios-nrpe-server
    ```

## Verification of Installations

The script includes verification steps for each tool and configuration. After running the script, you can manually verify the installations and configurations using the commands provided in the script.

## Conclusion

This script sets up a comprehensive military-grade lab environment with advanced tools, private networks, and logging and monitoring capabilities. Follow the detailed steps provided to add new users, configure their private networks, and verify the setup.

